# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

services:
  http:
    PlantService:
      auth: true
      base-path: /plant
      endpoints:
        add:
          display-name: Add a plant
          docs: Add a new plant to the store.
          path: /
          method: POST
          request:
            name: AddPlantRequest
            body:
              properties:
                id: optional<PlantId>
                category: optional<PlantCategory>
                name: string
                photoUrls: map<string,string>
                status: optional<PlantStatus>
          errors:
            - InvalidResponseError

        find:
          display-name: Find plant by ID
          method: GET
          path: /{plantId}
          path-parameters:
            plantId: PlantId
          response: Plant
          errors:
            - PlantNotFoundError
            - InvalidIdSuppliedError
        delete:
          display-name: Delete plant by ID
          method: DELETE
          path: /{plantId}
          path-parameters:
            plantId: PlantId
          errors:
            - PlantNotFoundError
            - InvalidIdSuppliedError

types:
  PlantId: uuid
  CategoryId: uuid

  PlantCategory:
    properties:
      id: CategoryId
      name: string

  PlantStatus:
    enum:
      - available
      - pending
      - sold

  Plant:
    properties:
      id: optional<PlantId>
      category: optional<PlantCategory>
      name: string
      photoUrls: map<string,string>
      status: optional<PlantStatus>

errors:
  InvalidResponseError:
    status-code: 405
    docs: Invalid input

  PlantNotFoundError:
    status-code: 404

  InvalidIdSuppliedError:
    status-code: 400
